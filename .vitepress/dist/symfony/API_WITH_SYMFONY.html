<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>CREER UNE API AVEC SYMFONY | Fiches Dev Web</title>
    <meta name="description" content="Dev Web tutorials">
    <meta name="generator" content="VitePress v1.3.2">
    <link rel="preload stylesheet" href="/assets/style.D-NX1hNs.css" as="style">
    
    <script type="module" src="/assets/app.E1A2rqQP.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/theme.sno5hhF_.js">
    <link rel="modulepreload" href="/assets/chunks/framework.TebtTzPX.js">
    <link rel="modulepreload" href="/assets/symfony_API_WITH_SYMFONY.md.Ct5jLHPF.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-d8b57b2d><!--[--><!--]--><!--[--><span tabindex="-1" data-v-c8291ffa></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-c8291ffa> Skip to content </a><!--]--><!----><header class="VPNav" data-v-d8b57b2d data-v-7ad780c2><div class="VPNavBar has-sidebar top" data-v-7ad780c2 data-v-9fd4d1dd><div class="wrapper" data-v-9fd4d1dd><div class="container" data-v-9fd4d1dd><div class="title" data-v-9fd4d1dd><div class="VPNavBarTitle has-sidebar" data-v-9fd4d1dd data-v-0ad69264><a class="title" href="/" data-v-0ad69264><!--[--><!--]--><!----><span data-v-0ad69264>Fiches Dev Web</span><!--[--><!--]--></a></div></div><div class="content" data-v-9fd4d1dd><div class="content-body" data-v-9fd4d1dd><!--[--><!--]--><div class="VPNavBarSearch search" data-v-9fd4d1dd><!----></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-9fd4d1dd data-v-afb2845e><span id="main-nav-aria-label" class="visually-hidden" data-v-afb2845e> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/index.html" tabindex="0" data-v-afb2845e data-v-08fbf4b6><!--[--><span data-v-08fbf4b6>Home</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/menus/les_autres.html" tabindex="0" data-v-afb2845e data-v-08fbf4b6><!--[--><span data-v-08fbf4b6>Feat.</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-9fd4d1dd data-v-3f90c1a5><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-3f90c1a5 data-v-be9742d9 data-v-b4ccac88><span class="check" data-v-b4ccac88><span class="icon" data-v-b4ccac88><!--[--><span class="vpi-sun sun" data-v-be9742d9></span><span class="vpi-moon moon" data-v-be9742d9></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-9fd4d1dd data-v-ef6192dc data-v-e71e869c><!--[--><a class="VPSocialLink no-icon" href="https://github.com/lorlor31" aria-label="github" target="_blank" rel="noopener" data-v-e71e869c data-v-358b6670><span class="vpi-social-github" /></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-9fd4d1dd data-v-f953d92f data-v-af5898d3><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-af5898d3><span class="vpi-more-horizontal icon" data-v-af5898d3></span></button><div class="menu" data-v-af5898d3><div class="VPMenu" data-v-af5898d3 data-v-20ed86d6><!----><!--[--><!--[--><!----><div class="group" data-v-f953d92f><div class="item appearance" data-v-f953d92f><p class="label" data-v-f953d92f>Appearance</p><div class="appearance-action" data-v-f953d92f><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-f953d92f data-v-be9742d9 data-v-b4ccac88><span class="check" data-v-b4ccac88><span class="icon" data-v-b4ccac88><!--[--><span class="vpi-sun sun" data-v-be9742d9></span><span class="vpi-moon moon" data-v-be9742d9></span><!--]--></span></span></button></div></div></div><div class="group" data-v-f953d92f><div class="item social-links" data-v-f953d92f><div class="VPSocialLinks social-links-list" data-v-f953d92f data-v-e71e869c><!--[--><a class="VPSocialLink no-icon" href="https://github.com/lorlor31" aria-label="github" target="_blank" rel="noopener" data-v-e71e869c data-v-358b6670><span class="vpi-social-github" /></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-9fd4d1dd data-v-6bee1efd><span class="container" data-v-6bee1efd><span class="top" data-v-6bee1efd></span><span class="middle" data-v-6bee1efd></span><span class="bottom" data-v-6bee1efd></span></span></button></div></div></div></div><div class="divider" data-v-9fd4d1dd><div class="divider-line" data-v-9fd4d1dd></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-d8b57b2d data-v-2488c25a><div class="container" data-v-2488c25a><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-2488c25a><span class="vpi-align-left menu-icon" data-v-2488c25a></span><span class="menu-text" data-v-2488c25a>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-2488c25a data-v-883964e0><button data-v-883964e0>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-d8b57b2d data-v-42c4c606><div class="curtain" data-v-42c4c606></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-42c4c606><span class="visually-hidden" id="sidebar-aria-label" data-v-42c4c606> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-51288d80><section class="VPSidebarItem level-0" data-v-51288d80 data-v-edd2eed8><div class="item" role="button" tabindex="0" data-v-edd2eed8><div class="indicator" data-v-edd2eed8></div><h2 class="text" data-v-edd2eed8>Navigation Rapide</h2><!----></div><div class="items" data-v-edd2eed8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-edd2eed8 data-v-edd2eed8><div class="item" data-v-edd2eed8><div class="indicator" data-v-edd2eed8></div><a class="VPLink link link" href="/menus/WP.html" data-v-edd2eed8><!--[--><p class="text" data-v-edd2eed8>WordPress</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-edd2eed8 data-v-edd2eed8><div class="item" data-v-edd2eed8><div class="indicator" data-v-edd2eed8></div><a class="VPLink link link" href="/menus/mep.html" data-v-edd2eed8><!--[--><p class="text" data-v-edd2eed8>MEP</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-edd2eed8 data-v-edd2eed8><div class="item" data-v-edd2eed8><div class="indicator" data-v-edd2eed8></div><a class="VPLink link link" href="/menus/laravel.html" data-v-edd2eed8><!--[--><p class="text" data-v-edd2eed8>Laravel</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-edd2eed8 data-v-edd2eed8><div class="item" data-v-edd2eed8><div class="indicator" data-v-edd2eed8></div><a class="VPLink link link" href="/menus/cecile.html" data-v-edd2eed8><!--[--><p class="text" data-v-edd2eed8>React</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-edd2eed8 data-v-edd2eed8><div class="item" data-v-edd2eed8><div class="indicator" data-v-edd2eed8></div><a class="VPLink link link" href="/menus/baptiste.html" data-v-edd2eed8><!--[--><p class="text" data-v-edd2eed8>Docker</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-edd2eed8 data-v-edd2eed8><div class="item" data-v-edd2eed8><div class="indicator" data-v-edd2eed8></div><a class="VPLink link link" href="/menus/cicd.html" data-v-edd2eed8><!--[--><p class="text" data-v-edd2eed8>CI-CD</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-edd2eed8 data-v-edd2eed8><div class="item" data-v-edd2eed8><div class="indicator" data-v-edd2eed8></div><a class="VPLink link link" href="/menus/symfony.html" data-v-edd2eed8><!--[--><p class="text" data-v-edd2eed8>Symfony</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-d8b57b2d data-v-9a6c75ad><div class="VPDoc has-sidebar has-aside" data-v-9a6c75ad data-v-e6f2a212><!--[--><!--]--><div class="container" data-v-e6f2a212><div class="aside" data-v-e6f2a212><div class="aside-curtain" data-v-e6f2a212></div><div class="aside-container" data-v-e6f2a212><div class="aside-content" data-v-e6f2a212><div class="VPDocAside" data-v-e6f2a212 data-v-cb998dce><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-cb998dce data-v-f610f197><div class="content" data-v-f610f197><div class="outline-marker" data-v-f610f197></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-f610f197>On this page</div><ul class="VPDocOutlineItem root" data-v-f610f197 data-v-53c99d69><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-cb998dce></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-e6f2a212><div class="content-container" data-v-e6f2a212><!--[--><!--]--><main class="main" data-v-e6f2a212><div style="position:relative;" class="vp-doc _symfony_API_WITH_SYMFONY" data-v-e6f2a212><div><h1 id="creer-une-api-avec-symfony" tabindex="-1">CREER UNE API AVEC SYMFONY <a class="header-anchor" href="#creer-une-api-avec-symfony" aria-label="Permalink to &quot;CREER UNE API AVEC SYMFONY&quot;">​</a></h1><h2 id="controller-et-routes" tabindex="-1">CONTROLLER ET ROUTES <a class="header-anchor" href="#controller-et-routes" aria-label="Permalink to &quot;CONTROLLER ET ROUTES&quot;">​</a></h2><p>Créer un controller sans tpl : <code>bin/console make:controller --no-template</code> Installer le serializer : <code>composer require symfony/serializer-pack</code> L&#39;importer en paramètre ds le controller <code>SerializerInterface $serializer</code></p><h3 id="dans-le-controller-on-va-creer-des-routes-qui-seront-les-endpoints-de-l-api" tabindex="-1">Dans le controller, on va créer des routes qui seront les endpoints de l&#39;API : <a class="header-anchor" href="#dans-le-controller-on-va-creer-des-routes-qui-seront-les-endpoints-de-l-api" aria-label="Permalink to &quot;Dans le controller, on va créer des routes qui seront les endpoints de l&#39;API :&quot;">​</a></h3><ul><li>ça suit la même structure que des routes classiques mais attention à bien stipuler la méthode HTTP <code>#[Route(&#39;url&#39;, name: &#39;nom&#39;, methods: [&#39;methode&#39;], requirements: contraintes)]</code></li><li>on rajoute <code>: JsonResponse</code> à la fin des méthodes pour dire qu&#39;on attend bien un JSON Exemple : <code>#[Route(&#39;/api/genres/{id}/shows&#39;, name: &#39;app_api_genres_getShows&#39;, methods: [&#39;GET&#39;], requirements: [&#39;id&#39; =&gt; &#39;d+&#39;])]</code></li></ul><h3 id="on-recupere-les-json-grace-a-la-methode-json-de-l-abstractcontroller" tabindex="-1">On récupère les JSON grâce à la méthode -&gt;json() de l&#39;AbstractController <a class="header-anchor" href="#on-recupere-les-json-grace-a-la-methode-json-de-l-abstractcontroller" aria-label="Permalink to &quot;On récupère les JSON grâce à la méthode -&gt;json() de l&#39;AbstractController&quot;">​</a></h3><pre><code>`return $this-&gt;json($data, $status = 200, $headers = [], $context = []);`

$data = données à convertir en json
$status = code http ou réponse http
$headers = headers éventuels par exemple pour la redirection
$context = contexte d&#39;application de la sérialisation, par exemple pour les groupes 
</code></pre><h3 id="cas-du-create" tabindex="-1">Cas du Create <a class="header-anchor" href="#cas-du-create" aria-label="Permalink to &quot;Cas du Create&quot;">​</a></h3><ul><li>La route est en POST !</li><li>Bien typeHinter Request, Serializer</li><li>On récupère la data avec getContent()</li><li>En API REST, la convention est de rediriger vers la liste :</li></ul><pre><code>        $data = $request-&gt;getContent();
        $product = $serializer-&gt;deserialize($data, product::class, &#39;json&#39;);
        $entityManager-&gt;persist($product);
        $entityManager-&gt;flush();
        return $this-&gt;json(
        $product, 
        Response::HTTP_CREATED, 
        [&quot;Location&quot; =&gt; $this-&gt;generateUrl(&quot;app_products&quot;)]
        ); 
</code></pre><ul><li>Attention il peut y avoir des relations circulaires, cf normalizer ci-dessous</li></ul><h2 id="validations-et-contraintes" tabindex="-1">VALIDATIONS ET CONTRAINTES <a class="header-anchor" href="#validations-et-contraintes" aria-label="Permalink to &quot;VALIDATIONS ET CONTRAINTES&quot;">​</a></h2><ul><li>à rajouter au-dessus des propriétés des entités <a href="https://symfony.com/doc/current/reference/constraints.html" target="_blank" rel="noreferrer">https://symfony.com/doc/current/reference/constraints.html</a></li></ul><p><code> #[Assert\NotBlank]</code> va empêcher la valeur d&#39;être nulle ou vide</p><blockquote><p>Autres exemples :</p></blockquote><ul><li>#[Assert\NotNull]</li><li>#[Assert\Length(min: 2)]</li><li>#[Assert\DateTime]</li><li>#[Assert\Choice([[&#39;ROLE_USER&#39;],[ &#39;ROLE_ADMIN&#39;]])]</li><li>#[Assert\ExpressionSyntax( allowedVariables: [&#39;created&#39;,&#39;archived&#39;,&#39;obsolete&#39;,&#39;deleted&#39;], message : &#39;You should provide a valid status for the contract ! &#39; )]</li></ul><blockquote><p>Attention : il y a deux types de contraintes :</p></blockquote><ul><li><p>celles de Symfony : <code>#[Assert\type(Types::DATE_IMMUTABLE)]</code></p></li><li><p>celles de Doctrine : <code>#[ORM\Column(type: Types::DATETIME_IMMUTABLE )]</code></p></li></ul><h2 id="serializer-et-normalizer" tabindex="-1">SERIALIZER ET NORMALIZER <a class="header-anchor" href="#serializer-et-normalizer" aria-label="Permalink to &quot;SERIALIZER ET NORMALIZER&quot;">​</a></h2><p>Le composant serializer va permettre de <strong>convertir l&#39;objet en JSON = sérialiser</strong> (on désérialise qd on convertit le JSON en objet). Son installation suffit à convertir automatiquement les objets en JSON. Mais il a beaucoup d&#39;autres outils pour nous permettre de régler des problèmes courants...</p><h3 id="references-circulaires-et-groupes-d-annotation" tabindex="-1">Références circulaires et groupes d&#39;annotation <a class="header-anchor" href="#references-circulaires-et-groupes-d-annotation" aria-label="Permalink to &quot;Références circulaires et groupes d&#39;annotation&quot;">​</a></h3><p>Pour régler le problème des références circulaires lors de la récupération des données en JSON sur des entités ayant des relations avec d&#39;autres, on va utiliser les groupes :</p><ol><li>importer la classe des groupes dans l&#39;entité :</li></ol><p><code>use Symfony\Component\Serializer\Annotation\Groups;</code></p><ol start="2"><li>au-dessus de la déclaration de la classe de l&#39;entité, créer un groupe :</li></ol><p><code>#[Groups([&#39;product&#39;])]</code></p><ol start="3"><li>Pour chaque propriété, sauf celles concernant des relations, rajouter un sous-groupe :</li></ol><p><code>#[Groups([&#39;productLinked&#39;])]</code></p><ol start="4"><li>Récupérer, avec le controller, uniquement les groupes désirés :</li></ol><p><code>return $this-&gt;json( $products , Response::HTTP_OK, [], [&quot;groups&quot;=&gt;[&#39;product&#39;,&#39;brandLinked&#39;]] );</code></p><ol start="5"><li>A tester : on peut aussi sélectionner certains attributs (cf doc) et ignorer des attributs lors de la sérialisation :<br> Exp : <code>return $this-&gt;json($genreRepository-&gt;findAll(), 200, [], [AbstractNormalizer::IGNORED_ATTRIBUTES =&gt; [&#39;shows&#39;]]);</code></li></ol><h3 id="denormalisation" tabindex="-1">Dénormalisation <a class="header-anchor" href="#denormalisation" aria-label="Permalink to &quot;Dénormalisation&quot;">​</a></h3><p>Dans le cas où on veut pouvoir créer un enregistrement avec des infos liées à un autre enregistrement, si on ne dénormalise pas, ça va créer un nouvel enregistrement de l&#39;entité liée. On va utilsier le dénormaliseur cf fichier /src/Serializer/EntityDenormalizer.php Tout fichier placé ds le dossier /Serializer sera inspecté par Symfony lors de l&#39;utilisation du serializer. Ce dénormalizer permet de récupérer les infos liées à une entité à partir de son id. Il suffira de spécifier l&#39;id lors de la création du JSON sous la forme <code>{&quot;propriété&quot;:id }</code>.</p><h2 id="authentification-avec-un-json-web-token" tabindex="-1">AUTHENTIFICATION AVEC UN JSON WEB TOKEN <a class="header-anchor" href="#authentification-avec-un-json-web-token" aria-label="Permalink to &quot;AUTHENTIFICATION AVEC UN JSON WEB TOKEN&quot;">​</a></h2><p>Culture G : L&#39;authentification peut généralement se faire avec les sessions, l&#39;identifiant est dans les headers. Mais si&#39;l y a plusieurs serveurs, on peut plus retrouver le serveur qui détient le login, les serveurs vont être stateless et ne mémorisent pas l&#39;état, ils sont indépendants, le JWT va contenir les infos d&#39;authentification, il a 3 blocs : 1. entête(algo de chiffrage) 2. corps(claims=infos en JSON,dates de création et d&#39;expiration) 3. signature (signature qui valide le token). =&gt; LE JWT permet donc de ne pas avoir à faire des allers /retours entre serveurs et BDD, il est aussi utile pour les app mobiles et les API, et aussi on peut utiliser la clé privée pour être validée par un organisme public qui aurait accès à la clé publique. cf doc. <a href="https://github.com/lexik/LexikJWTAuthenticationBundle/blob/3.x/Resources/doc/index.rst#getting-started" target="_blank" rel="noreferrer">https://github.com/lexik/LexikJWTAuthenticationBundle/blob/3.x/Resources/doc/index.rst#getting-started</a></p><ol><li><p>Installation du composant lexik/jwt-authentication-bundle <code> composer require lexik/jwt-authentication-bundle</code></p></li><li><p>Générer les clés <code>php bin/console lexik:jwt:generate-keypair</code></p></li><li><p>Rajouter dans le .env</p></li></ol><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>    JWT_SECRET_KEY=%kernel.project_dir%/config/jwt/private.pem</span></span>
<span class="line"><span>    JWT_PUBLIC_KEY=%kernel.project_dir%/config/jwt/public.pem</span></span>
<span class="line"><span>    JWT_PASSPHRASE=</span></span></code></pre></div><ol start="4"><li>Dans config/packages/security.yaml</li></ol><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>security:</span></span>
<span class="line"><span>    enable_authenticator_manager: true # Only for Symfony 5.4</span></span>
<span class="line"><span>    # ...</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    firewalls:</span></span>
<span class="line"><span>        login:</span></span>
<span class="line"><span>            pattern: ^/api/login</span></span>
<span class="line"><span>            stateless: true</span></span>
<span class="line"><span>            json_login:</span></span>
<span class="line"><span>                check_path: /api/login_check</span></span>
<span class="line"><span>                success_handler: lexik_jwt_authentication.handler.authentication_success</span></span>
<span class="line"><span>                failure_handler: lexik_jwt_authentication.handler.authentication_failure</span></span>
<span class="line"><span></span></span>
<span class="line"><span>        api:</span></span>
<span class="line"><span>            pattern:   ^/api</span></span>
<span class="line"><span>            stateless: true</span></span>
<span class="line"><span>            jwt: ~</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    access_control:</span></span>
<span class="line"><span>        - { path: ^/api/login, roles: PUBLIC_ACCESS }</span></span>
<span class="line"><span>        - { path: ^/api,       roles: IS_AUTHENTICATED_FULLY }</span></span></code></pre></div><ol start="5"><li>Dans config/routes.yaml :</li></ol><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>api_login_check:</span></span>
<span class="line"><span>    path: /api/login_check</span></span></code></pre></div><p>Cette route a été créée automatiquement par lexikJWT.</p><ol start="6"><li>Pour s&#39;authentifier manuellement il faut copier le json des identifiants <code>{&quot;username&quot;:&quot;admin@gmail.com&quot;,&quot;password&quot;:&quot;admin&quot;}</code> où username est la propriété discriminante dans User.php dans le body de la requête et envoyer à /api/login_check ça va générer un token qu&#39;on va copier dans authorization-&gt;bearer ds postman lors de l&#39;accès aux routes protégées. =&gt; g pas compris comment c&#39;lié à l&#39;ACL ? =&gt; lire de la doc pour synthétiser</li></ol><p>Il faut avoir crée le user avec make:user avant.</p><p>RESUME POUR JWT 1/ créer le user avec make:user et mettre des id et mdp 2/ installer le bundle lexikJWT 3/ générer les clés 4/ configurer les fichiers 5/ aller sur la route <a href="http://localhost:8080/api/login_check" target="_blank" rel="noreferrer">api/login_check</a> 6/ envoyer le {&quot;<a href="mailto:username%22:%22admin@gmail.com" target="_blank" rel="noreferrer">username&quot;:&quot;admin@gmail.com</a>&quot;,&quot;password&quot;:&quot;admin&quot;} dans le body en POST 7/ récupérer le token Explications : la configuration via routes.yaml et services.yaml va permettre de gérer l&#39;authentification. Les infos de hashage du pwd et la vérification de la clé st dans le fichier security.yaml et .env. Automatiquement le token va être envoyé dans le header et contient le role donc va permettre ou non l&#39;accès à la route selon l&#39;ACL du security.yaml.</p><p>hasher de symfo en CLI bin/console security:hash-password</p></div></div></main><footer class="VPDocFooter" data-v-e6f2a212 data-v-1bcd8184><!--[--><!--]--><!----><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-1bcd8184><span class="visually-hidden" id="doc-footer-aria-label" data-v-1bcd8184>Pager</span><div class="pager" data-v-1bcd8184><!----></div><div class="pager" data-v-1bcd8184><a class="VPLink link pager-link next" href="/menus/WP.html" data-v-1bcd8184><!--[--><span class="desc" data-v-1bcd8184>Next page</span><span class="title" data-v-1bcd8184>WordPress</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"api-examples.md\":\"CTQNuJz0\",\"baptiste_02-deploiement-site-statique.md\":\"DkpKuCZj\",\"baptiste_03-virtual-hosts.md\":\"BeyYsbm6\",\"baptiste_04-deploiement-app-laravel.md\":\"CMA5WzXP\",\"baptiste_05-docker-install.md\":\"C2x24h4W\",\"baptiste_06-docker-commandes-basiques.md\":\"D1uj10fh\",\"baptiste_07-docker-bind-mounts.md\":\"C0ojrP-i\",\"baptiste_08-docker-exec.md\":\"BktW9RFJ\",\"baptiste_09-dockerfile.md\":\"CnBaQIZn\",\"baptiste_10-docker-compose.md\":\"zyCNubPZ\",\"baptiste_11-docker-production.md\":\"BRX0uw_t\",\"baptiste_12-orchestration.md\":\"ZQlzlU9p\",\"baptiste_accessib_baptiste.md\":\"DGDZV6KN\",\"baptiste_guide-images_accessib_baptiste.md\":\"CaTbegjj\",\"baptiste_seo.md\":\"Cp9cVot-\",\"cecile_e03_vers-react.md\":\"B0nET1OS\",\"cecile_e12_recap-react.md\":\"CVeiQyL9\",\"cecile_e16_recap-redux.md\":\"CW62uClc\",\"cecile_e18_tests.md\":\"BMTbmAuE\",\"cecile_e19_authentification.md\":\"ClAuFqk4\",\"cecile_e20_ouvertures.md\":\"BflcWoNV\",\"cicd_ci-cd-definitions.md\":\"BtNy6r17\",\"cicd_ci-cd-index.md\":\"CaAXgAck\",\"cicd_ci-cd-runner-gitlab.md\":\"t3xadem1\",\"cicd_tips_pour_deployer_avec_un_runner.md\":\"B2pg6dNB\",\"docs-vite-press-deploiement_surge_sh.md\":\"CdmWKbQ3\",\"index.md\":\"BGUUlsJN\",\"laravel_blade.md\":\"CxgNO9eY\",\"laravel_controllers.md\":\"CFA5gpbP\",\"laravel_dossiers.md\":\"vsHAd4Og\",\"laravel_fonctionnalites.md\":\"CV5Eg_pT\",\"laravel_install.md\":\"U93YPNT0\",\"laravel_models.md\":\"Cg_xEs7j\",\"laravel_routes.md\":\"Cs6Uoynm\",\"laure_install_php-vanilla.md\":\"DajFQfsd\",\"laure_notions_dw.md\":\"B6s0sGUc\",\"les_autres.md\":\"CIK6RU7p\",\"loic_deploy-directus.md\":\"SXOsW5LN\",\"loic_deploy-https.md\":\"CddZ-uQm\",\"loic_deploy-symfony.md\":\"b8MnLyZ4\",\"loic_deploy-vite-spa.md\":\"Ds6enruS\",\"markdown-examples.md\":\"Csz5S5OT\",\"menus_baptiste.md\":\"ZDHen-On\",\"menus_cecile.md\":\"C9EJUh0D\",\"menus_cicd.md\":\"9-agSVdS\",\"menus_creation-blocs-gutenberg.md\":\"cgFHeYw8\",\"menus_laravel.md\":\"CkeqDqNp\",\"menus_les_autres.md\":\"wIopR6gI\",\"menus_loic.md\":\"CEcbvD4u\",\"menus_mep.md\":\"CJaQAUOh\",\"menus_symfony.md\":\"CP-T2Yxg\",\"menus_wp.md\":\"DrkPQOhF\",\"mep_mise-en-prod-symfony.md\":\"Y6TBaEG9\",\"mep_mise_en_prod_symfony_web_encore.md\":\"DXBtK9Wb\",\"symfony_api_with_symfony.md\":\"Ct5jLHPF\",\"symfony_mise-en-prod-symfony.md\":\"Cbv5zCmv\",\"symfony_mise_en_prod_symfony_web_encore.md\":\"Dnp99Ver\",\"symfony_symfony_from_scratch.md\":\"CDzI_cmG\",\"wp_wp-aller-plus-loin-occ.md\":\"B8-hVS8r\",\"wp_wp-blocks-creation_creer_bloc_gutenberg_wp.md\":\"DMpgo1Cn\",\"wp_wp-blocks-creation_creer_bloc_richtext.md\":\"Cd_HeBVk\",\"wp_wp-blocks-creation_interactivite_et_dynamisation.md\":\"Dp5uykAt\",\"wp_wp-blocks-creation_securite_plugin.md\":\"OCvKVmU-\",\"wp_wp-blocks-creation_style_du_bloc.md\":\"DpZtWbJB\",\"wp_wp-creer-site-occ.md\":\"C7bK1IlN\",\"wp_wp-notes.md\":\"3uNiDBnk\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"Fiches Dev Web\",\"description\":\"Dev Web tutorials\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"nav\":[{\"text\":\"Home\",\"link\":\"/index\"},{\"text\":\"Feat.\",\"link\":\"/menus/les_autres\"}],\"sidebar\":[{\"text\":\"Navigation Rapide\",\"items\":[{\"text\":\"WordPress\",\"link\":\"/menus/WP\"},{\"text\":\"MEP\",\"link\":\"/menus/mep\"},{\"text\":\"Laravel\",\"link\":\"/menus/laravel\"},{\"text\":\"React\",\"link\":\"/menus/cecile\"},{\"text\":\"Docker\",\"link\":\"/menus/baptiste\"},{\"text\":\"CI-CD\",\"link\":\"/menus/cicd\"},{\"text\":\"Symfony\",\"link\":\"/menus/symfony\"}]}],\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/lorlor31\"}]},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>